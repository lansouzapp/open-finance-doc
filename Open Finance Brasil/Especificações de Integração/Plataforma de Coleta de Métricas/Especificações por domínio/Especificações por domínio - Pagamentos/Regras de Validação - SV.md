---
id: 1212383233
title: Regras de Validação - SV
version: 2
modified: 2026-02-09T18:11:34.513Z
url: /spaces/OF/pages/1212383233/Regras+de+Valida+o+-+SV
---

v 1.04**Objetivo desta página**Demonstrar funcionalmente as regras de validação de qualidade de campos básicos e additionalInfos realizados na PCM. Estas validações são utilizadas para aberturas de tickets e monitoramento através do dashboard de Monitoramento Operacional.**Guia de leitura**
1. Nos endpoints, a referência “v x ” deve ser substituída pela versão da API que está sendo enviada. Por exemplo, para a versão 4 (v4) dos endpoints de pagamento, enviar “open-banking/automatic-payments/ v 4 /recurring-consents/{recurringConsentId}”.
2. Nos endpoints, a referência % significa que vale para qualquer conteúdo antes ou depois, de acordo com o endpoint em questão. Por exemplo, “%/automatic-payments/v x /recurring-consents%” significa que vale para os endpoints “/open-banking/automatic-payments/v2/recurring-consents” e “/open-banking/automatic-payments/v2/recurring-consents/{recurringConsentId}”.
Dica: não existe a opção de exportar as tabelas para Excel, porém pode-se selecionar o conteúdo da página com CTRL+A, copiar e colar no Excel. 
# Pagamentos

### Iniciação de Pagamentos

| Campo | Regra |
| --- | --- |
| authorisationFlow | SE Role = CLIENT E endpoint = %payments/v x /pix/payments ou %payments/v x /pix/payments/{paymentId} E método = POST, PATCH ou GET ENTÃO Se o authorisationFlow for nulo, retorna Nulo Se o authorisationFlow for vazio, retorna Vazio Se o authorisationFlow não for CIBA_FLOW, FIDO_FLOW ou HYBRID_FLOW, retorna Invalido |
| authorisationFlowIntent | SE Role = CLIENT E endpoint = %/payments/v x /consents E método = POST, PATCH ou GET ENTÃO Se o authorisationFlowIntent for nulo, retorna Nulo Se o authorisationFlowIntent for vazio, retorna Vazio Se o authorisationFlowIntent não for CIBA_FLOW, FIDO_FLOW ou HYBRID_FLOW, retorna Invalido |
| companyProfileInfo | SE Role = CLIENT E personType = PJ ou PESSOA_JURIDICA E endpoint = %/payments/v x /consents E método = POST ENTÃO Se naturezaJuridica e porteEmpresa forem simultaneamente nulos ou vazios, retorna Nulo/Vazio Se naturezaJuridica for nulo ou vazio e porteEmpresa estiver preenchido, retorna Incompleto - sem Natureza Juridica Se naturezaJuridica estiver preenchido e porteEmpresa estiver nulo ou vazio, retorna Incompleto - sem Porta da Empresa Se o porteEmpresa não for 00, 01, 03 ou 05, retorna Invalido |
| consentId | SE Role = CLIENT E endpoint = %/payments/v x /consents% E método = GET ou PATCH com qualquer statusCode OU POST com statusCode diferente de 4xx e 5xx OU %/payments/v x /pix/payments% E método = POST, GET ou PATCH com qualquer statusCode ENTÃO Se o consentId for nulo, retorna Nulo Se o consentId for vazio, retorna Vazio Se o REGEX do consentId não for ^urn:[a-zA-Z0-9][a-zA-Z0-9\-]{0,31}:[a-zA-Z0-9()+,\-.:=@;$_!*''%/?#]+, retorna Invalido |
| dropReason | SE Role = SERVER E endpoint = %/payments/v x /consents E método = POST ENTÃO Se o dropReason for nulo, retorna Nulo Se o dropReason for vazio, retorna Vazio Se o dropReaso não for NONE, NO_CREDENTIAL, NO_AUTHORITY ou NO_AUTHORITY_PERSON_MISMATCH, retorna Invalido |
| errorCodes | SE Role = CLIENT E statusCode = 4xx ou 5xx E endpoint = %/payments/v x /consents% Se o errorCodes for nulo, retorna Nulo Se o errorCodes for vazio, retorna Vazio Se o errorCodes possui mais de um item, retorna Multiplos itens Se statusCode = 422 e errorCodes não for ["DATA_PAGAMENTO_INVALIDA"], ["DETALHE_PAGAMENTO_INVALIDO"], ["ERRO_IDEMPOTENCIA"], ["FORMA_PAGAMENTO_INVALIDA"], ["NAO_INFORMADO"], ["PARAMETRO_INVALIDO"] ou ["PARAMETRO_NAO_INFORMADO"], retorna Invalido OU endpoint = %/payments/v x /pix/payments% Se o errorCodes for nulo, retorna Nulo Se o errorCodes for vazio, retorna Vazio Se o errorCodes possui mais de um item, retorna Multiplos itens Se statusCode = 422 e errorCodes não for ["COBRANCA_INVALIDA"], ["CONSENTIMENTO_INVALIDO"], ["CONSENTIMENTO_PENDENTE_AUTORIZACAO"], ["DETALHE_PAGAMENTO_INVALIDO"], ["ERRO_IDEMPOTENCIA"], ["NAO_INFORMADO"], ["PAGAMENTO_DIVERGENTE_CONSENTIMENTO"], ["PAGAMENTO_NAO_PERMITE_CANCELAMENTO"], ["PAGAMENTO_RECUSADO_DETENTORA"], ["PAGAMENTO_RECUSADO_SPI"], ["PARAMETRO_INVALIDO"], ["PARAMETRO_NAO_INFORMADO"], ["SALDO_INSUFICIENTE"], ["VALOR_ACIMA_LIMITE"] ou ["VALOR_INVALIDO"], retorna Invalido Se statuscode for 4xx ou 5xx e statusCode não for 422, retorna Error_Code invalido |
| localInstrument | SE Role = CLIENT E endpoint = %/payments/v x /consents ou %/payments/v x /pix/payments/{paymentId} E método = POST OU PATCH, GET com statusCode diferente de 4xx e 5xx ENTÃO Se o localInstrument for nulo, retorna Nulo Se o localInstrument for vazio, retorna Vazio Se o localInstrument não for DICT, INIC, MANU, QRDN, QRES ou AUTO, retorna Invalido |
| paymentSchedule | SE Role = CLIENT E paymentType for diferente de IMMEDIATE E endpoint = %/payments/v x /consents E método = POST E statusCode = 201 ENTÃO Se o conteúdo do paymentSchedule não tiver os tipos single, daily, weekly, monthly ou custom , retorna Conteudo do additionalInfo paymentSchedule nulo ou invalido Se o tipo de agendamento for single Se não possuir o campo date , retorna Conteudo do agendamento single nulo ou invalido Se possuir o campo date , porém não houver data informada, retorna Conteudo do agendamento single invalido Se o tipo de agendamento for daily Se não possuir os campos startDate ou quantity , retorna Conteudo do agendamento diario nulo ou invalido Se possuir os campos startDate e quantity , porém não houver dados informados, retorna Conteudo do agendamento diario invalido Se o tipo de agendamento for weekly Se não possuir os campos dayOfWeek, startDate ou quantity , retorna Conteudo do agendamento semanal nulo ou invalido Se possuir os campos dayOfWeek, startDate e quantity , porém não houver dados informados, retorna Conteudo do agendamento semanal invalido Se o tipo de agendamento for monthly Se não possuir os campos dayOfMonth, startDate ou quantity , retorna Conteudo do agendamento mensal nulo ou invalido Se possuir os campos dayOfMonth, startDate e quantity , porém não houver dados informados, retorna Conteudo do agendamento mensal invalido Se o tipo de agendamento for custom Se não possuir o campo dates , retorna Conteudo do agendamento custom nulo ou invalido Se possuir o campo dates , porém não houver dados informados, retorna Conteudo do agendamento custom invalido |
| paymentType | SE Role = CLIENT E endpoint = %/payments/v x /consents ou %/payments/v x /pix/payments E método = POST OU endpoint = %/payments/v x /pix/payments/{paymentId} E método = PATCH ENTÃO Se paymentType for nulo, retorna Nulo Se paymentType for vazio, retorna Vazio Se paymentType não for AUTOMATIC, IMMEDIATE, RECURRENT, SCHEDULED ou SWEEPING, retorna Invalido |
| personType | SE Role = CLIENT E endpoint = %/payments/v x /consents E método = POST ENTÃO Se personType for nulo, retorna Nulo Se personType for vazio, retorna Vazio Se personType não for PF, PJ, PESSOA_JURIDICA ou PESSOA_NATURAL, retorna Invalido |
| rejectionReasonCode | SE Role = CLIENT E status = RJCT ou REJECTED E endpoint = %/payments/v x /consents/{consentId} ou %/payments/v x /pix/payments/{paymentId} E método = GET E statusCode não é 4xx ou 5xx ENTÃO Se rejectionReasonCode for nulo, retorna Nulo Se rejectionReasonCode for vazio, retorna Vazio Se rejectionReasonCode não for AUTENTICACAO_DIVERGENTE, COBRANCA_INVALIDA, CONSENTIMENTO_INVALIDO, CONSENTIMENTO_REVOGADO, CONTA_NAO_PERMITE_PAGAMENTO, CONTAS_ORIGEM_DESTINO_IGUAIS, DETALHE_PAGAMENTO_INVALIDO, DETALHE_TENTATIVA_INVALIDO, FALHA_AGENDAMENTO_PAGAMENTOS, FALHA_INFRAESTRUTURA, FALHA_INFRAESTRUTURA_DETENTORA, FALHA_INFRAESTRUTURA_DICT, FALHA_INFRAESTRUTURA_ICP, FALHA_INFRAESTRUTURA_PSP_RECEBEDOR, FALHA_INFRAESTRUTURA_SPI, FORA_PRAZO_PERMITIDO, LIMITE_PERIODO_QUANTIDADE_EXCEDIDO, LIMITE_PERIODO_VALOR_EXCEDIDO, LIMITE_TENTATIVAS_EXCEDIDO, LIMITE_VALOR_TOTAL_CONSENTIMENTO_EXCEDIDO, LIMITE_VALOR_TRANSACAO_CONSENTIMENTO_EXCEDIDO, NAO_INFORMADO, PAGAMENTO_DIVERGENTE_CONSENTIMENTO, PAGAMENTO_RECUSADO_DETENTORA, PAGAMENTO_RECUSADO_SPI, QRCODE_INVALIDO, REJEITADO_USUARIO, SALDO_INSUFICIENTE, TEMPO_EXPIRADO_AUTORIZACAO, TEMPO_EXPIRADO_CONSUMO, TITULARIDADE_INCONSISTENTE, VALOR_ACIMA_LIMITE ou VALOR_INVALIDO, retorna Invalido |
| rejectionReasonDetail | SE Role = CLIENT E status = RJCT ou REJECTED E endpoint = %/payments/v x /consents/{consentId} ou %/payments/v x /pix/payments/{paymentId} E método = GET E statusCode não é 4xx ou 5xx ENTÃO Se rejectionReasonDetail for nulo, retorna Nulo Se rejectionReasonDetail for vazio, retorna Vazio |
| status | SE Role = CLIENT E endpoint = %/payments/v x /consents ou %/payments/v x /pix/payments E método = GET ou POST OU endpoint = %/payments/v x /pix/payments/{paymentId} ou %/payments/v x /pix/payments/consents/{consentId} E método = PATCH E statusCode = 2xx ENTÃO Se status for nulo, retorna Nulo Se status for vazio, retorna Vazio Se status não for AWAITING_AUTHORISATION, AUTHORISED, REJECTED, PARTIALLY_ACCEPTED, REVOKED, CONSUMED, AWAITING_RISK_SIGNALS, AWAITING_ACCOUNT_HOLDER_VALIDATION, AWAITING_ENROLLMENT, RCVD, CANC, ACCP, ACPD, RJCT, ACSC, PDNG ou SCHD, retorna Invalido |

### Iniciação de Pagamentos Sem Redirecionamento

| Campo | Regra |
| --- | --- |
| cancelledFrom | SE Role = CLIENT E status = CANC E endpoint = %/enrollments/v x /enrollments/{enrollmentId} E método = GET E statusCode = 2xx ENTÃO Se o cancelledFrom for nulo, retorna Nulo Se o cancelledFrom for vazio, retorna Vazio Se o cancelledFrom não for INICIADORA ou DETENTORA, retorna Invalido |
| companyProfileInfo | SE Role = CLIENT E personType = PJ ou PESSOA_JURIDICA E endpoint = %/enrollments/v x /enrollments E método = POST ENTÃO Se naturezaJuridica e porteEmpresa forem simultaneamente nulos ou vazios, retorna Nulo/Vazio Se naturezaJuridica for nulo ou vazio e porteEmpresa estiver preenchido, retorna Incompleto - sem Natureza Juridica Se naturezaJuridica estiver preenchido e porteEmpresa estiver nulo ou vazio, retorna Incompleto - sem Porta da Empresa Se o porteEmpresa não for 00, 01, 03 ou 05, retorna Invalido |
| consentId | SE Role = CLIENT E endpoint = %/enrollments/v x /consents/{consentId}/authorise ou %/enrollments/vx/enrollments/{enrollmentId}/fido-sign-options E não é método = POST com statusCode 4xx ou 5xx ENTÃO Se o enrollmentId e o consentId forem simultaneamente nulos, retorna Nulo Se o enrollmentId e o consentId forem simultaneamente vazios, retorna Vazio Se for o endpoint /open-banking/enrollments/v x /enrollments/{enrollmentId}/fido-sign-options consentId e o recurringConsentId estiverem simultaneamente preenchidos, retorna Invalido - nao podem ser preenchidos simulaneamente consentId e recurringConsentId Se for o endpoint /open-banking/enrollments/v x /enrollments/{enrollmentId}/fido-sign-options consentId e o recurringConsentId estiverem simultaneamente vazios ou nulos, retorna Pelo menos consentId ou recurringConsentId deve estar preenchido Se o REGEX do consentId não for ^urn:[a-zA-Z0-9][a-zA-Z0-9\-]{0,31}:[a-zA-Z0-9()+,\-.:=@;$_!*''%/?#]+, retorna Invalido |
| dropReason | SE Role = SERVER E endpoint = %/enrollments/v x /enrollments E método = POST ENTÃO Se o dropReason for nulo, retorna Nulo Se o dropReason for vazio, retorna Vazio Se o dropReason não for NONE, NO_CREDENTIAL, AUTHORITY ou NO_AUTHORITY_PERSON_MISMATCH, retorna Invalido |
| enrollmentId | SE Role = CLIENT E endpoint = %/open-banking/enrollments/v x /enrollments E método = POST E statusCode = 2x OU endpoint = %/enrollments/v x /enrollments/{enrollmentId}/fido-registration, %/enrollments/v x /enrollments/{enrollmentId}/fido-sign-options, %/enrollments/v x /enrollments/{enrollmentId}/risk-signals ou %/enrollments/v x /consents/{consentId}/authorise E método = POST, GET ou PATCH ENTÃO Se o enrollmentId e o consentId forem simultaneamente nulos, retorna Nulo Se o enrollmentId e o consentId forem simultaneamente vazios, retorna Vazio |
| errorCodes | SE Role = CLIENT E statusCode = 4xx ou 5xx E endpoint = %/enrollments/v x /enrollments/% Se o errorCodes for nulo, retorna Nulo Se o errorCodes for vazio, retorna Vazio Se o errorCodes possui mais de um item, retorna Multiplos itens Se statusCode = 422 e errorCodes não for ["CONTA_INVALIDA"], ["ERRO_IDEMPOTENCIA"], ["MOTIVO_REJEICAO"], ["MOTIVO_REVOGACAO"], ["PARAMETRO_INVALIDO"], ["PARAMETRO_NAO_INFORMADO"], ["PERMISSOES_INVALIDAS"], ["REJEITADO_OUTRO_SEM_DETALHES"], ["REVOGADO_OUTRO_SEM_DETALHES"] ou ["STATUS_INVALIDO"], retorna Invalido OU endpoint = %/enrollments/v x /enrollments/{enrollmentId}/fido% Se o errorCodes for nulo, retorna Nulo Se o errorCodes for vazio, retorna Vazio Se o errorCodes possui mais de um item, retorna Multiplos itens Se statusCode = 422 e errorCodes não for ["CHALLENGE_INVALIDO"], ["ERRO_IDEMPOTENCIA"], ["EXTENSION_INVALIDA"], ["MAXIMO_CHALLENGES_ATINGIDO"], ["ORIGEM_FIDO_INVALIDA"], ["PARAMETRO_INVALIDO"], ["PARAMETRO_NAO_INFORMADO"], ["PERMISSAO_INVALIDA_VINCULO_CONSENTIMENTO"], ["PUBLIC_KEY_INVALIDA"], ["RP_ID_HASH_INVALIDO"], ["RP_INVALIDA"], ["STATUS_CONSENTIMENTO_INVALIDO"] ou ["STATUS_VINCULO_INVALIDO"], retorna Invalido OU endpoint = %/enrollments/v x /enrollments/{enrollmentId}/risk% Se o errorCodes for nulo, retorna Nulo Se o errorCodes for vazio, retorna Vazio Se o errorCodes possui mais de um item, retorna Multiplos itens Se statusCode = 422 e errorCodes não for ["ERRO_IDEMPOTENCIA"], ["FALTAM_SINAIS_OBRIGATORIOS_DA_PLATAFORMA"], ["PARAMETRO_INVALIDO"], ["PARAMETRO_NAO_INFORMADO"] ou ["STATUS_VINCULO_INVALIDO"], retorna Invalido OU endpoint = %/enrollments/v x /consents% Se o errorCodes for nulo, retorna Nulo Se o errorCodes for vazio, retorna Vazio Se o errorCodes possui mais de um item, retorna Multiplos itens Se statusCode = 422 e errorCodes não for ["COMBINACAO_PERMISSOES_INCORRETA"], ["CONTA_DEBITO_DIVERGENTE_CONSENTIMENTO_VINCULO"], ["DATA_EXPIRACAO_INVALIDA"], ["DEPENDE_MULTIPLA_ALCADA"], ["ERRO_IDEMPOTENCIA"], ["ERRO_NAO_MAPEADO"], ["ESTADO_CONSENTIMENTO_INVALIDO"], ["FALTAM_SINAIS_OBRIGATORIOS_DA_PLATAFORMA"], ["INFORMACOES_PJ_NAO_INFORMADAS"], ["PARAMETRO_INVALIDO"], ["ORIGEM_FIDO_INVALIDA"], ["PARAMETRO_NAO_INFORMADO"], ["PERMISSAO_PF_PJ_EM_CONJUNTO"], ["PERMISSOES_PJ_INCORRETAS"], ["RISCO"], ["SEM_PERMISSOES_FUNCIONAIS_RESTANTES"], ["STATUS_CONSENTIMENTO_INVALIDO"] ou ["STATUS_VINCULO_INVALIDO"], retorna Invalido Se statuscode for 4xx ou 5xx e statusCode não for 422, retorna Error_Code invalido |
| nfcPayment | SE Role = CLIENT E endpoint = %/enrollments/v x /consents/{consentId}/authorise E método = POST ENTÃO Se nfcPayment for nulo, retorna Nulo Se nfcPayment for vazio, retorna Vazio Se nfcPayment não for TRUE ou FALSE, retorna Invalido |
| personType | SE Role = CLIENT E endpoint = %/enrollments/v x /enrollments ou %/enrollments/v x /enrollments/{enrollmentId} E método = POST, GET E statusCode = 2xx ENTÃO Se personType for nulo, retorna Nulo Se personType for vazio, retorna Vazio Se personType não for PF, PJ, PESSOA_JURIDICA ou PESSOA_NATURAL, retorna Invalido |
| platform | SE Role = CLIENT E endpoint = %/enrollments/v x /enrollments/{enrollmentId}/fido-registration-options ou %/enrollments/v x /enrollments/{enrollmentId}/fido-sign-options ENTÃO Se platform for nulo, retorna Nulo Se platform for vazio, retorna Vazio |
| recurringConsentId | SE Role = CLIENT E endpoint = %/enrollments/v % /enrollments/{enrollmentId}/fido-sign-options ou %/enrollments/v x /recurring-consents/{recurringConsentId}/authorise E não é método = POST com statusCode 4xx ou 5xx ENTÃO Se for o endpoint /open-banking/enrollments/v x /enrollments/{enrollmentId}/fido-sign-options consentId e o recurringConsentId estiverem simultaneamente preenchidos, retorna Invalido Se for o endpoint /open-banking/enrollments/v x /enrollments/{enrollmentId}/fido-sign-options consentId e o recurringConsentId estiverem simultaneamente vazios ou nulos, retorna Pelo menos consentId ou recurringConsentId deve estar preenchido Se o REGEX do recurringConsentId não for ^urn:[a-zA-Z0-9][a-zA-Z0-9\-]{0,31}:[a-zA-Z0-9()+,\-.:=@;$_!*''%/?#]+, retorna Invalido |
| rejectionReasonCode | SE Role = CLIENT E status = RJCT ou REJECTED E endpoint = %/enrollments/v x /enrollments/{enrollmentId} E método = PATCH ou GET ENTÃO Se rejectionReasonCode for nulo, retorna Nulo Se rejectionReasonCode for vazio, retorna Vazio Se rejectionReasonCode não for REJEITADO_DISPOSITIVO_INCOMPATIVEL, REJEITADO_FALHA_FIDO, REJEITADO_FALHA_HYBRID_FLOW, REJEITADO_FALHA_INFRAESTRUTURA, REJEITADO_MANUALMENTE, REJEITADO_MAXIMO_CHALLENGES_ATINGIDO, REJEITADO_OUTRO, REJEITADO_SEGURANCA_INTERNA, REJEITADO_TEMPO_EXPIRADO_ACCOUNT_HOLDER_VALIDATION, REJEITADO_TEMPO_EXPIRADO_RISK_SIGNALS, REJEITADO_TEMPO_EXPIRADO_ENROLLMENT ou REJEITADO_TITULARIDADE_DIVERGENTE, retorna Invalido |
| revocationReasonCode | SE Role = CLIENT E status = REVOKED E endpoint = %/enrollments/v x /enrollments/{enrollmentId} E método = PATCH OU GET e statusCode = 200 ENTÃO Se revocationReasonCode for nulo, retorna Nulo Se revocationReasonCode for vazio, retorna Vazio Se revocationReasonCode não for REVOGADO_FALHA_INFRAESTRUTURA, REVOGADO_MANUALMENTE, REVOGADO_OUTRO, REVOGADO_SEGURANCA_INTERNA ou REVOGADO_VALIDADE_EXPIRADA, retorna Invalido |
| rp | SE Role = CLIENT E endpoint = %/enrollments/v x /enrollments/{enrollmentId}/fido-registration-options ou %/enrollments/v x /enrollments/{enrollmentId}/fido-sign-options E método = POST ENTÃO Se rpf or nulo, retorna Nulo Se rp for vazio, retorna Vazio |
| status | SE Role = CLIENT E endpoint = %/enrollments/v x /enrollments ou %/enrollments/v x /enrollments/{enrollmentId} E método = GET ou POST E statusCode = 2xx ENTÃO Se status for nulo, retorna Nulo Se status for vazio, retorna Vazio Se status não for AWAITING_AUTHORISATION, AUTHORISED, REJECTED, PARTIALLY_ACCEPTED, REVOKED, CONSUMED, AWAITING_RISK_SIGNALS, AWAITING_ACCOUNT_HOLDER_VALIDATION, AWAITING_ENROLLMENT, RCVD, CANC, ACCP, ACPD, RJCT, ACSC, PDNG ou SCHD, retorna Invalido |

### Pagamentos Automáticos

| Campo | Regra |
| --- | --- |
| authorisationFlowIntent | SE Role = CLIENT E endpoint = %/automatic-payments/v x /recurring-consents E método = POST, PATCH ou GET ENTÃO Se o authorisationFlowIntent for nulo, retorna Nulo Se o authorisationFlowIntent for vazio, retorna Vazio Se o authorisationFlowIntent não for CIBA_FLOW, FIDO_FLOW ou HYBRID_FLOW, retorna Invalido |
| companyProfileInfo | SE Role = CLIENT E personType = PJ ou PESSOA_JURIDICA E endpoint = %/automatic-payments/v x /recurring-consents E método = POST ENTÃO Se naturezaJuridica e porteEmpresa forem simultaneamente nulos ou vazios, retorna Nulo/Vazio Se naturezaJuridica for nulo ou vazio e porteEmpresa estiver preenchido, retorna Incompleto - sem Natureza Juridica Se naturezaJuridica estiver preenchido e porteEmpresa estiver nulo ou vazio, retorna Incompleto - sem Porta da Empresa Se o porteEmpresa não for 00, 01, 03 ou 05, retorna Invalido |
| consentId | SE Role = CLIENT E endpoint = %/automatic-payments/v x /recurring-consents% ou %automatic-payments/v x /pix/recurring-payments% E endpoint não for %/automatic-payments/v x /pix/recurring-payments/{originalRecurringPaymentId}/retry E método = GET, PATCH OU POST com statusCode diferente de 4xx ou 5xx ENTÃO Se o consentId for nulo, retorna Nulo Se o consentId for vazio, retorna Vazio Se o REGEX do consentId não for ^urn:[a-zA-Z0-9][a-zA-Z0-9\-]{0,31}:[a-zA-Z0-9()+,\-.:=@;$_!*''%/?#]+, retorna Invalido |
| dropReason | SE Role = SERVER E endpoint = %/automatic-payments/v x /recurring-consents E método = POST ENTÃO Se o dropReason for nulo, retorna Nulo Se o dropReason for vazio, retorna Vazio Se o dropReason não for NONE, NO_CREDENTIAL, AUTHORITY ou NO_AUTHORITY_PERSON_MISMATCH, retorna Invalido |
| errorCodes | SE Role = CLIENT E statusCode = 4xx ou 5xx E endpoint = %automatic-payments/v x /recurring-payments% e endpoint não for %/automatic-payments/v x /pix/recurring-payments/{originalRecurringPaymentId}/retry Se o errorCodes for nulo, retorna Nulo Se o errorCodes for vazio, retorna Vazio Se o errorCodes possui mais de um item, retorna Multiplos itens Se statusCode = 422 e errorCodes não for ["CANCELAMENTO_FORA_PERIODO_PERMITIDO"], ["CONSENTIMENTO_INVALIDO"], ["CONSENTIMENTO_PENDENTE_AUTORIZACAO"], ["DETALHE_PAGAMENTO_INVALIDO"], ["ERRO_IDEMPOTENCIA"], ["FORA_PRAZO_PERMITIDO"], ["LIMITE_PERIODO_QUANTIDADE_EXCEDIDO"], ["LIMITE_PERIODO_VALOR_EXCEDIDO"], ["LIMITE_VALOR_TOTAL_CONSENTIMENTO_EXCEDIDO"], ["LIMITE_VALOR_TRANSACAO_CONSENTIMENTO_EXCEDIDO"], ["NAO_INFORMADO"], ["PAGAMENTO_DIVERGENTE_CONSENTIMENTO"], ["PAGAMENTO_NAO_PERMITE_CANCELAMENTO"], ["PAGAMENTO_RECUSADO_DETENTORA"], ["PAGAMENTO_RECUSADO_SPI"], ["PARAMETRO_INVALIDO"], ["PARAMETRO_NAO_INFORMADO"], ["SALDO_INSUFICIENTE"], ["VALOR_ACIMA_LIMITE"] ou ["VALOR_INVALIDO"], retorna Invalido OU endpoint = %automatic-payments/v x /recurring-consents% Se o errorCodes for nulo, retorna Nulo Se o errorCodes for vazio, retorna Vazio Se o errorCodes possui mais de um item, retorna Multiplos itens Se statusCode = 422 e errorCodes não for ["CAMPO_NAO_PERMITIDO"], ["CONSENTIMENTO_NAO_PERMITE_CANCELAMENTO"], ["DATA_PAGAMENTO_INVALIDA"], ["DETALHE_EDICAO_INVALIDO"], ["DETALHE_PAGAMENTO_INVALIDO"], ["ERRO_IDEMPOTENCIA"], ["FALTAM_SINAIS_OBRIGATORIOS_PLATAFORMA"], ["FUNCIONALIDADE_NAO_HABILITADA"], ["NAO_INFORMADO"], ["PARAMETRO_INVALIDO"], ["PARAMETRO_NAO_INFORMADO"], ["PERMISSAO_INSUFICIENTE"], retorna Invalido Se statuscode for 4xx ou 5xx e statusCode não for 422, retorna Error_Code invalido |
| localInstrument | SE Role = CLIENT E endpoint = %/automatic-payments/v x /pix/recurring-payments% E método = POST OU PATCH, GET com statusCode diferente de 4xx e 5xx ENTÃO Se o localInstrument for nulo, retorna Nulo Se o localInstrument for vazio, retorna Vazio Se o localInstrument não for DICT, INIC, MANU, QRDN, QRES ou AUTO, retorna Invalido |
| paymentType | SE Role = CLIENT E endpoint = %/automatic-payments/v x /recurring-consents% ou %/automatic-payments/v x /pix/recurring-payments% e não for %/automatic-payments/v x /pix/recurring-payments/{originalRecurringPaymentId}/retry E método = POST, PATCH OU endpoint = %/automatic-payments/v x /recurring-consents/{recurringConsentId}' E método = GET ENTÃO Se o paymentType for nulo, retorna Nulo Se o paymentType for vazio, retorna Vazio Se o paymentType não for AUTOMATIC, IMMEDIATE, RECURRENT, SCHEDULED ou SWEEPING, retorna Invalido |
| rejectedBy | SE Role = CLIENT E status = RJCT ou REJECTED E endpoint = %/automatic-payments/v x /recurring-consents/{recurringConsentId} E método = PATCH ou GET E statusCode não é 4xx e 5xx ENTÃO Se o rejectedBy for nulo, retorna Nulo Se o rejectedBy for vazio, retorna Vazio Se o rejectedBy não for DETENTORA, INICIADORA, USUARIO, retorna Invalido |
| rejectedFrom | SE Role = CLIENT E status = RJCT ou REJECTED E endpoint = %/automatic-payments/v x /recurring-consents/{recurringConsentId} E método = PATCH ou GET E statusCode não é 4xx e 5xx ENTÃO Se o rejectedFrom for nulo, retorna Nulo Se o rejectedFrom for vazio, retorna Vazio Se o rejectedFrom não for DETENTORA, INICIADORA, retorna Invalido |
| rejectionReasonCode | SE Role = CLIENT E status = RJCT ou REJECTED E endpoint = %/automatic-payments/v x /recurring-consents/{recurringConsentId} E método = GET ou PATCH E statusCode não é 4xx ou 5xx ENTÃO Se rejectionReasonCode for nulo, retorna Nulo Se rejectionReasonCode for vazio, retorna Vazio Se rejectionReasonCode não for AUTENTICACAO_DIVERGENTE, CONTA_NAO_PERMITE_PAGAMENTO, CONTAS_ORIGEM_DESTINO_IGUAIS, FALHA_INFRAESTRUTURA, FLUXO_NAO_SUPORTADO_PRODUTO, NAO_INFORMADO, REJEITADO_USUARIO, SALDO_INSUFICIENTE, TEMPO_EXPIRADO_AUTORIZACAO, VALOR_ACIMA_LIMITE ou VALOR_INVALIDO, retorna Invalido |
| rejectionReasonDetail | SE Role = CLIENT E status = RJCT ou REJECTED E endpoint = %/automatic-payments/v x /recurring-consents/{recurringConsentId} E método = GET ou PATCH E statusCode não é 4xx e 5xx ENTÃO Se rejectionReasonDetail for nulo, retorna Nulo Se rejectionReasonDetail for vazio, retorna Vazio |

### Específicos PIX Automático

| Campo | Regra |
| --- | --- |
| amountType | SE Role = CLIENT E endpoint = %/automatic-payments/v x /recurring-consents% E versão = v2 E método = POST OU PATCH ou GET com statusCode diferente de 4xx ou 5xx E paymentType = AUTOMATIC ENTÃO Se o amountType for nulo, retorna Nulo Se o amountType for vazio, retorna Vazio Se o amountType não for FIXO ou VARIAVEL, retorna Invalido |
| authorisationFlow | SE Role = CLIENT E endpoint = %/automatic-payments/v x /pix/recurring-payments% E endpoint não for %/automatic-payments/v x /pix/recurring-payments/{originalRecurringPaymentId}/retry E versão = v2 E método = POST, PATCH ou GET ENTÃO Se o authorisationFlow for nulo, retorna Nulo Se o authorisationFlow for vazio, retorna Vazio Se o authorisationFlow não for CIBA_FLOW, FIDO_FLOW ou HYBRID_FLOW, retorna Invalido |
| cancellationReason | SE Role = CLIENT E status = CANC E endpoint = %/automatic-payments/v x /pix/recurring-payments% E endpoint não for %/automatic-payments/v x /pix/recurring-payments/{originalRecurringPaymentId}/retry E versão = v2 E método = POST, PATCH ou GET E statusCode = 2xx ENTÃO Se o cancellationReason for nulo, retorna Nulo Se o cancellationReason for vazio, retorna Vazio Se o cancellationReason não for CANCELADO_AGENDAMENTO ou CANCELADO_PENDENCIA, retorna Invalido |
| cancelledFrom | SE Role = CLIENT E status = CANC E endpoint = %/automatic-payments/v x /pix/recurring-payments% E endpoint não for %/automatic-payments/v x /pix/recurring-payments/{originalRecurringPaymentId}/retry E versão = v2 E método = POST, GET ou PATCH E statusCode = 2xx ENTÃO Se o cancelledFrom for nulo, retorna Nulo Se o cancelledFrom for vazio, retorna Vazio Se o cancelledFrom não for INICIADORA ou DETENTORA, retorna Invalido |
| hasMinimumAmount | SE Role = CLIENT E endpoint = %/automatic-payments/v x /recurring-consents% E versão = v2 E método = POST OU método = GET ou PATCH e statusCode diferente de 4xx e 5xx E paymentType = AUTOMATIC ENTÃO Se o hasMinimumAmount for nulo, retorna Nulo Se o hasMinimumAmount for vazio, retorna Vazio Se o hasMinimumAmount não for TRUE ou FALSE, retorna Invalido |
| interval | SE Role = CLIENT E endpoint = %/automatic-payments/v x /recurring-consents% E versão = v2 E método = POST OU método = GET ou PATCH e statusCode diferente de 4xx e 5xx E paymentType = AUTOMATIC ENTÃO Se interval for nulo, retorna Nulo Se interval for vazio, retorna Vazio |
| isFirstPayment | SE Role = CLIENT E endpoint = %/automatic-payments/v x /recurring-consents% E versão = v2 E método = POST OU método = GET ou PATCH e statusCode diferente de 4xx e 5xx E paymentType = AUTOMATIC ENTÃO Se isFirstPayment for nulo, retorna Nulo Se isFirstPayment for vazio, retorna Vazio Se isFirstPayment não for TRUE ou FALSE, retorna Invalido |
| isRetryAccepted | SE Role = CLIENT E endpoint = %/automatic-payments/v x /recurring-consents% E versão = v2 E método = POST OU GET ou PATCH e statusCode diferente de 4xx e 5xx E paymentType = AUTOMATIC ENTÃO Se isRetryAccepted for nulo, retorna Nulo Se isRetryAccepted for vazio, retorna Vazio |
| paymentReference | SE Role = CLIENT E endpoint = %/automatic-payments/v x /pix/recurring-payments% E endpoint não for %/automatic-payments/v x /pix/recurring-payments/{originalRecurringPaymentId}/retry E versão = v2 E método = POST e PATCH OU GET e statusCode diferente de 4xx e 5xx E paymentType = AUTOMATIC ENTÃO Se paymentReference for nulo, retorna Nulo Se paymentReference for vazio, retorna Vazio |
| paymentType | SE Role = CLIENT E endpoint = %/automatic-payments/v x /recurring-consents% ou %/automatic-payments/v x /pix/recurring-payments% e não for %/automatic-payments/v x /pix/recurring-payments/{originalRecurringPaymentId}/retry E versão = v2 E método = POST OU GET ou PATCH e statusCode diferente de 4xx e 5xx ENTÃO Se o paymentType for nulo, retorna Nulo Se o paymentType for vazio, retorna Vazio Se o paymentType não for AUTOMATIC, IMMEDIATE, RECURRENT, SCHEDULED ou SWEEPING, retorna Invalido |
| personType | SE Role = CLIENT E endpoint = %/automatic-payments/v x /recurring-consents% E versão = v2 E método = POST, PATCH ou GET E statusCode = 2xx ENTÃO Se personType for nulo, retorna Nulo Se personType for vazio, retorna Vazio Se personType não for PF, PJ, PESSOA_JURIDICA, PESSOA_NATURAL, retorna Invalido |
| recurringPaymentId | SE Role = CLIENT E endpoint = %/automatic-payments/v x /pix/recurring-payments% E endpoint não for %/automatic-payments/v x /pix/recurring-payments/{originalRecurringPaymentId}/retry E versão = v2 E método = POST, GET e PATCH E statusCode não é 4xx e 5xx ENTÃO Se recurringPaymentId for nulo, retorna Nulo Se recurringPaymentId for vazio, retorna Vazio |
| rejectionReasonCode | SE Role = CLIENT E status = RJCT ou REJECTED E endpoint = %/automatic-payments/v x /recurring-consents% ou %/automatic-payments/v x /pix/recurring-payments% E endpoint não for %/automatic-payments/v x /pix/recurring-payments/{originalRecurringPaymentId}/retry E versão = v2 E método = POST ou GET OU PATCH e statusCode diferente de 4xx e 5xx ENTÃO Se rejectionReasonCode for nulo, retorna Nulo Se rejectionReasonCode for vazio, retorna Vazio Se rejectionReasonCode não for AUTENTICACAO_DIVERGENTE, CONSENTIMENTO_INVALIDO, CONTA_NAO_PERMITE_PAGAMENTO, CONTAS_ORIGEM_DESTINO_IGUAIS, DETALHE_PAGAMENTO_INVALIDO, DETALHE_TENTATIVA_INVALIDO, FALHA_INFRAESTRUTURA, FALHA_INFRAESTRUTURA_DETENTORA, FALHA_INFRAESTRUTURA_ICP, FALHA_INFRAESTRUTURA_PSP_RECEBEDOR, FALHA_INFRAESTRUTURA_SPI, FORA_PRAZO_PERMITIDO, LIMITE_PERIODO_QUANTIDADE_EXCEDIDO, LIMITE_PERIODO_VALOR_EXCEDIDO, LIMITE_TENTATIVAS_EXCEDIDO, LIMITE_VALOR_TOTAL_CONSENTIMENTO_EXCEDIDO, LIMITE_VALOR_TRANSACAO_CONSENTIMENTO_EXCEDIDO, NAO_INFORMADO, PAGAMENTO_DIVERGENTE_CONSENTIMENTO, PAGAMENTO_RECUSADO_DETENTORA, PAGAMENTO_RECUSADO_SPI, REJEITADO_USUARIO, SALDO_INSUFICIENTE, TEMPO_EXPIRADO_AUTORIZACAO, TITULARIDADE_INCONSISTENTE, VALOR_ACIMA_LIMITE, VALOR_INVALIDO, retorna Invalido |
| rejectionReasonDetail | SE Role = CLIENT E status = RJCT ou REJECTED E endpoint = %/automatic-payments/v x /recurring-consents/% E versão = v2 E método = POST ou GET OU PATCH com statusCode diferente de 4xx e 5xx ENTÃO Se rejectionReasonDetail for nulo, retorna Nulo Se rejectionReasonDetail for vazio, retorna Vazio |
| revocationReasonCode | SE Role = CLIENT E status = REVOKED E endpoint = %/automatic-payments/v x /recurring-consents% ou %/automatic-payments/v x /pix/recurring-payments% E endpoint não for %/automatic-payments/v x /pix/recurring-payments/{originalRecurringPaymentId}/retry E versão = v2 E método = POST ou GET OU PATCH com statusCode diferente de 4xx e 5xx ENTÃO Se revocationReasonCode for nulo, retorna Nulo Se revocationReasonCode for vazio, retorna Vazio Se revocationReasonCode não for NAO_INFORMADO, REVOGADO_RECEBEDOR ou REVOGADO_USUARIO, retorna Invalido |
| revocationReasonDetail | SE Role = CLIENT E status = REVOKED E endpoint = %/automatic-payments/v x /recurring-consents% ou %/automatic-payments/v x /recurring-payments% E endpoint não for %/automatic-payments/v x /pix/recurring-payments/{originalRecurringPaymentId}/retry E versão = v2 E método = POST ou GET OU PATCH e statusCode diferente de 4xx e 5xx ENTÃO Se revocationReasonDetail for nulo, retorna Nulo Se revocationReasonDetail for vazio, retorna Vazio |
| status | SE Role = CLIENT E endpoint = %/automatic-payments/v x /pix/recurring-payments% ou %/automatic-payments/v x /recurring-consents% E endpoint não for %/automatic-payments/v x /pix/recurring-payments/{originalRecurringPaymentId}/retry E método = GET, PATCH ou POST E statusCode = 2xx ENTÃO Se status for nulo, retorna Nulo Se status for vazio, retorna Vazio Se status não for AWAITING_AUTHORISATION, AUTHORISED, REJECTED, PARTIALLY_ACCEPTED, REVOKED, CONSUMED, AWAITING_RISK_SIGNALS, AWAITING_ACCOUNT_HOLDER_VALIDATION, AWAITING_ENROLLMENT, RCVD, CANC, ACCP, ACPD, RJCT, ACSC, PDNG ou SCHD, retorna Invalido |